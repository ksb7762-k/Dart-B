# 10. 데이터 탐색과 시각화 

## 10.1 탐색적 테이터 분석 

###  EDA를 하는 주요 목적 
- 데이터의 형태와 척도가 분석에 알맞게 되어있는지 확인 (sanitiy checking)
- 데이터의 평균, 분산, 분포, 패턴 등의 확인을 통해 데이터 특성 파악
- 데이터의 결측값이나 이상치 파악 및 보완
- 변수 간의 관계성 파악
- 분석 목적과 방향성 점검 및 보정 

**info() 함수**
- 행과 열의 크기
- 칼럼을 구성하는 값의 자료형
- 숫자형이어야 하는 칼럼이 문자형이거나 문자형이어야 하는 칼럼이 숫자형으로 되어있는지 **확인**
- 결측값 **확인** 

## 10.2 공분산과 상관성 분석 

- **타겟 변수 Y와 입력변수 X와의 관계**는 물론 **입력변수 X들 간의 관계**도 살펴봐야함  
- 이를 통해 독립 변수의 변화에 따른 종속 변수의 변화량을 크게 하여 통계적 정확도를 감소시키는 **다중공선성**을 방지할 수 있고 **데이터에 대한 이해도**를 높일 수 있음 


**상관분석**을 하기 위해서는 우선
1. 변수는 **등간** 또는 **비율 척도**여야 함  
  - 이유: 피어슨 상관계수는 평균과 표준편차 기반 계산이라 순서만 있는 서열척도에는 부적절함  
  - ex. 설문 척도(1~5)는 엄밀히는 등간척도 아님 → 스피어만 등 비모수적 방법 써야함  

2. 변수 간 **선형적 관계** 존재해야 함  
  - 이유: 피어슨 계수는 직선적 경향만 포착함  
  - 비선형일 경우 강한 관계 있어도 계수 낮게 나옴  
  - 산점도(scatter plot)로 관계 형태 확인 필요함  


![](/image_STA/5-1.PNG)  

  ## 10.3 시간 시각화 

  시간 요소가 있는 데이터는 **시계열(Time series)** 형태로 표현할 수 있음  

  **연속형 시간 시각화**의 경우 선 그래프는 시간 간격의 밀도가 높을 때 사용  

  데이터의 양이 너무 많거나 변동이 심하면 트렌드나 패턴을 파악하는 것이 어려울 수 있음  
  => **추세선** 삽입하여 안정된 선으로 표현!   

  추세선을 그리는 가장 일반적인 방법은 이동평균(Moving average) 방법을 사용하는 것  
  데이터의 연속적 그룹의 평균을 구하는 것인데  
   예를 들어 시간 흐름에 따라 2 -> 5 -> 3 -> 7 -> 4의 값이 있다면  
    그룹 옵션을 3개의 평균으로 했을 때 ( 2,5,3의 평균) -> (5,3,7의 평균) -> (3,7,4의 평균)으로 표현하는 것   


![](/image_STA/5-2.PNG)  


  **분절형 시간 시각화**의 경우 막대그래프, 누적 막대그래프, 점 그래프 등으로 표현  

  1년 동안의 월 간격 단위 흐름과 같이 시간의 밀도가 낮은 경우에 활용  
   누적 막대그래프는 한 시점에 2개 이상의 세부 항목이 존재할 때 사용  



![](/image_STA/5-3.PNG)  


 

  ## 10.4 비교 시각화  

  **히트맵 차트(Heatmap chart)** 는 그룹과 비교 요소가 많을 때 효과적으로 시각화를 할 수 있는 방법  

    
![](/image_STA/5-4.PNG)  


![](/image_STA/5-5.PNG)  


**방사형 차트(Radar chart)**  



![](/image_STA/5-6.PNG)  



![](/image_STA/5-7.PNG)  



**평행 좌표 그래프(Parallel coordinates)**  



![](/image_STA/5-8.PNG)  




## 10.5 분포 시각화  


질적 척도(명목 변수)로 이루어진 변수는 구성이 단순한 경우 파이차트나 도넛차트를 사용함  



![](/image_STA/5-9.PNG)  


구성 요소가 복잡한 질적 척도를 표현할 때는 트리맵 차트가 좋음  


트리맵과 유사한 와플 차트도 있지만 트리맵처럼 위계구조를 표현하지는 못함  




![](/image_STA/5-10.PNG)  


## 10.7 공간시각화  


데이터가 지리적 위치와 관련되어 있으면 실제 지도 위에 데이터를 표현하는 것이 효과적 

대표적인 기법으로 **도트맵**, **코로플레스맵**, **버블맵**, **커넥션맵**등이 있음 


![](/image_STA/5-11.PNG)  
  

공간 시각화를 위한 패키지 : **folium**, **plotly** (나중에 써보고 싶다)